<h1 id="end-of-stream">end-of-stream</h1>
<p>A node module that calls a callback when a readable/writable/duplex stream has completed or failed.</p>
<pre><code>npm install end-of-stream
</code></pre><h2 id="usage">Usage</h2>
<p>Simply pass a stream and a callback to the <code>eos</code>.
Both legacy streams and streams2 are supported.</p>
<pre><code class="lang-js">var eos = require(&#39;end-of-stream&#39;);

eos(readableStream, function(err) {
    if (err) return console.log(&#39;stream had an error or closed early&#39;);
    console.log(&#39;stream has ended&#39;);
});

eos(writableStream, function(err) {
    if (err) return console.log(&#39;stream had an error or closed early&#39;);
    console.log(&#39;stream has finished&#39;);
});

eos(duplexStream, function(err) {
    if (err) return console.log(&#39;stream had an error or closed early&#39;);
    console.log(&#39;stream has ended and finished&#39;);
});

eos(duplexStream, {readable:false}, function(err) {
    if (err) return console.log(&#39;stream had an error or closed early&#39;);
    console.log(&#39;stream has ended but might still be writable&#39;);
});

eos(duplexStream, {writable:false}, function(err) {
    if (err) return console.log(&#39;stream had an error or closed early&#39;);
    console.log(&#39;stream has ended but might still be readable&#39;);
});

eos(readableStream, {error:false}, function(err) {
    // do not treat emit(&#39;error&#39;, err) as a end-of-stream
});
</code></pre>
<h2 id="license">License</h2>
<p>MIT</p>
